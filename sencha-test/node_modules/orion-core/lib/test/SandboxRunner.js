"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}var _assign=require("babel-runtime/core-js/object/assign"),_assign2=_interopRequireDefault(_assign),_getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),console=require("orion-core/lib/util/console-manager").console,Runner=require("orion-core/lib/test/Runner"),SandboxAgent=require("orion-core/lib/model/test/SandboxAgent.js"),SandboxRunner=function(a){function b(){return(0,_classCallCheck3["default"])(this,b),(0,_possibleConstructorReturn3["default"])(this,(b.__proto__||(0,_getPrototypeOf2["default"])(b)).apply(this,arguments))}return(0,_inherits3["default"])(b,a),(0,_createClass3["default"])(b,[{key:"_createAgent",value:function(a){var b=new SandboxAgent((0,_assign2["default"])({archiver:this.archiver},a));return b}},{key:"getAgentContactPage",value:function(a){return this.parameterizePage(this.sandboxPage,a)}},{key:"getInterceptablePage",value:function(){return this.sandboxPage}},{key:"getSubjectUrl",value:function(){var a=this,b=a.callbackAddress||"127.0.0.1",c=a.scenario.getTargetUrl(),d=a.scenario.getSubjectPage();return 0==c.indexOf("http")?c:"http://"+b+":"+a.proxy.port+"/"+d}}],[{key:"meta",get:function(){return{prototype:{sandboxPage:"~orion/sandbox/sandbox.html"}}}}]),b}(Runner);module.exports=SandboxRunner;