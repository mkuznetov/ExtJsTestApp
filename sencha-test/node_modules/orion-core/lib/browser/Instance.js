"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise),_getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),Observable=require("orion-core/lib/Observable"),Instance=function(a){function b(a,c){(0,_classCallCheck3["default"])(this,b);var d=(0,_possibleConstructorReturn3["default"])(this,(b.__proto__||(0,_getPrototypeOf2["default"])(b)).call(this));return d.browser=a,d.instance=c,d.instance.on("stop",function(){this.fire("stopped")}.bind(d)),d}return(0,_inherits3["default"])(b,a),(0,_createClass3["default"])(b,[{key:"stop",value:function(){var a=this;return new _promise2["default"](function(b,c){a.instance?a.instance.stop(function(){b(a)}):c("no instance")}).then(function(b){return a.browser.instances.remove(a),b})}}]),b}(Observable);module.exports=Instance;