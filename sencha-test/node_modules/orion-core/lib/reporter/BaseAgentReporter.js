"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}var _getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),ReporterBase=require("./ReporterBase"),BaseAgentReporter=function(a){function b(){return(0,_classCallCheck3["default"])(this,b),(0,_possibleConstructorReturn3["default"])(this,(b.__proto__||(0,_getPrototypeOf2["default"])(b)).apply(this,arguments))}return(0,_inherits3["default"])(b,a),(0,_createClass3["default"])(b,[{key:"runStarted",value:function(a){this._runningAgentCounters={}}},{key:"testRunStarted",value:function(a){var b,c=this,d=a.agent,e=d.agentGroup,f=e&&e.id,g=c._runningAgentCounters;f&&(g[f]=(b=g[f]||0)+1,1===b&&c.agentGroupStarted&&c.agentGroupStarted(e))}},{key:"testRunFinished",value:function(a){this._decrementRunningAgentCounter(a.agent)}},{key:"agentTerminated",value:function(a){this._decrementRunningAgentCounter(a.agent)}},{key:"_decrementRunningAgentCounter",value:function(a){var b,c=this,d=a.agentGroup,e=d&&d.id,f=c._runningAgentCounters;e&&a.isRunning&&f&&f[e]&&(b=--f[e],0===b&&c.agentGroupFinished&&c.agentGroupFinished(d))}}]),b}(ReporterBase);module.exports=BaseAgentReporter;