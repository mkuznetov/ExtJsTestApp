"use strict";var UserAgent=require("orion-core/lib/model/UserAgent.js"),Network=require("orion-core/lib/Network.js"),os=require("os"),crlfRe=/\r\n/g,Util={isWin:/^win/.test(process.platform),isLinux:/^linux/.test(process.platform),isMac:/^darwin/.test(process.platform),isSandbox:/--sandbox/.test(process.argv),clone:function(a){var b,c=a;if(null!=a)if(Array.isArray(a))for(c=[],b=a.length;b-- >0;)c[b]=Util.clone(a[b]);else if(c.constructor===Object){c={};for(b in a)c[b]=Util.clone(a[b])}return c},merge:function(a,b){b=Array.prototype.slice.call(arguments,1);var c,d,e,f,g,h=b.length;for(c=0;c<h;++c)if(e=b[c])for(d in e)g=e[d],g&&g.constructor===Object?(f=a[d],f&&f.constructor===Object?Util.merge(f,g):a[d]=Util.clone(g)):a[d]=g;return a},nativizeLines:function(a){return Util.normalizeLines(a,Util.EOL)},normalizeLines:function(a,b){return crlfRe.test(a)&&(a=a.replace(crlfRe,b||"\n")),a},flatten:function(a,b){if(b=b||[],a)for(var c=0;c<a.length;c++){var d=a[c];Array.isArray(d)?this.flatten(d,b):b.push(d)}return b},getLocalIpAddresses:Network.getLocalIpAddresses,getLocalIpAddress:Network.getLocalIpAddress,isAddressLocal:function(a,b){return!!(!b||UserAgent.local&&UserAgent.local.isOsEqual(b))&&Network.isAddressLocal(a)},createMap:function(a,b){var c={};return a&&a.forEach(function(a){var d=b(a);c[d]=a}),c}};Util.EOL=Util.isWin?"\r\n":"\n",module.exports=Util;