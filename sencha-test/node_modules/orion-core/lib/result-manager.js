"use strict";var ResultManager=function(a){var b=this;a=a||{},b._initDirs()};ResultManager.prototype.compareScreenshot=function(a,b,c){var d,e,f,g,h,i=require("mz/fs"),j=require("mz/crypto");f=j.createHash("md5").update(b).digest("hex"),a.toLowerCase().endsWith(".png")||(a+=".png"),d="actual/"+a,e="expected/"+a,i.writeFile(d,b,"base64"),i.exists(e,function(a){a?i.readFile(e,function(a){h=new Buffer(a).toString("base64"),g=j.createHash("md5").update(h).digest("hex"),c(f==g)}):i.writeFile(e,b,"base64",function(){c(!0)})})},ResultManager.prototype._initDirs=function(){var a=require("mz/fs"),b=require("async");b.reject(["actual","expected","diff"],a.exists,function(c){b.forEachOf(c,function(b){a.mkdir(b)})})},module.exports=ResultManager;