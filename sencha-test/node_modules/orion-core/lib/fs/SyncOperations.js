"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}var _stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify),_assign=require("babel-runtime/core-js/object/assign"),_assign2=_interopRequireDefault(_assign),_getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),Base=require("../Base"),fs=require("fs"),Util=require("orion-core/lib/Util"),_ProcessUtil=function(){var a=require("orion-core/lib/process/ProcessUtil");return _ProcessUtil=function(){return a},a},SyncOperations=function(a){function b(){return(0,_classCallCheck3["default"])(this,b),(0,_possibleConstructorReturn3["default"])(this,(b.__proto__||(0,_getPrototypeOf2["default"])(b)).apply(this,arguments))}return(0,_inherits3["default"])(b,a),(0,_createClass3["default"])(b,[{key:"getStatSync",value:function(){try{return fs.statSync(this.path)}catch(a){return!1}}},{key:"existsSync",value:function(){try{return fs.accessSync(this.path,fs.F_OK),!0}catch(a){return!1}}},{key:"writeSync",value:function(a,b){var c=this,d=c.parent;return d&&d.ensurePathExistsSync(),fs.writeFileSync(c.getCanonicalPath(),a,(0,_assign2["default"])({encoding:"utf8"},b))}},{key:"writeJsonSync",value:function(a,b){var c=b&&b.prettyPrint?(0,_stringify2["default"])(a,null,4):(0,_stringify2["default"])(a);return this.writeSync(c,b),a}},{key:"readSync",value:function(a){return fs.readFileSync(this.getCanonicalPath(),(0,_assign2["default"])({encoding:"utf8"},a))}},{key:"readJsonSync",value:function(a){return JSON.parse(this.readSync(a))}},{key:"ensurePathExistsSync",value:function(){var a=this,b=a.parent;return b&&b.ensurePathExistsSync(),a.path&&!a.existsSync()?fs.mkdirSync(a.path):null}},{key:"getFilesSync",value:function(a){var b=this;return fs.readdirSync(b.path).map(function(c){var d=new b.constructor(b,c),e=d.getStatSync();return d.stat=e,a&&e&&e.isDirectory()&&(d.items=d.getFilesSync(!0)),d})}},{key:"isHidden",value:function(){var a=this;return!(!a.name||"."!==a.name[0])}},{key:"isFile",value:function(){var a=this;return void 0===a.stat&&(a.stat=a.getStatSync()),a.stat&&a.stat.isFile()}},{key:"isDirectory",value:function(){var a=this;return void 0===a.stat&&(a.stat=a.getStatSync()),a.stat&&a.stat.isDirectory()}},{key:"removeSync",value:function(){fs.unlinkSync(this.path)}}]),b}(Base);module.exports=SyncOperations;