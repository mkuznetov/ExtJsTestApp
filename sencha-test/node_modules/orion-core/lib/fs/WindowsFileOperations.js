"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}var _getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),Base=require("orion-core/lib/Base"),Util=require("orion-core/lib/Util");if(Util.isWin&&!Util.isSandbox)var ffi=require("ffi"),ref=require("ref"),stringPtr=ref.refType(ref.types.CString),kernel32=ffi.Library("kernel32",{GetFileAttributesA:["long",[stringPtr]]}),FILE_ATTRIBUTE_HIDDEN=2;var WindowsFileOperations=function(a){function b(){return(0,_classCallCheck3["default"])(this,b),(0,_possibleConstructorReturn3["default"])(this,(b.__proto__||(0,_getPrototypeOf2["default"])(b)).apply(this,arguments))}return(0,_inherits3["default"])(b,a),(0,_createClass3["default"])(b,[{key:"isHidden",value:function(){var a,b=this,c=b.name,d=b.path;return!Util.isSandbox&&(a=new Buffer(255),ref.writeCString(a,0,d),(kernel32.GetFileAttributesA(a)&FILE_ATTRIBUTE_HIDDEN)==FILE_ATTRIBUTE_HIDDEN)||!(!c||"."!==c[0])}}]),b}(Base);module.exports=WindowsFileOperations;